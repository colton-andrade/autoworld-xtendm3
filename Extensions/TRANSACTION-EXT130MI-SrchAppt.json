{"utilities":{},"programModules":{"EXT130MI":{"program":"EXT130MI","triggers":{},"transactions":{"SrchAppt":{"sourceUuid":"d786cd5a-f91e-4134-8890-ba7a3277d025","name":"SrchAppt","program":"EXT130MI","description":"Search for appointments in EXTSFA","active":true,"multi":true,"modified":1670951360815,"modifiedBy":"MF-DEV-CA","outputFields":[{"name":"CUNO","description":"Salesforce Customer","length":50,"mandatory":false,"type":"A"},{"name":"PRNO","description":"Vehicle","length":50,"mandatory":false,"type":"A"},{"name":"BANO","description":"Plate Number","length":50,"mandatory":false,"type":"A"},{"name":"SUFI","description":"Service Type","length":50,"mandatory":false,"type":"A"},{"name":"RRSD","description":"Appointment Date Entry","length":50,"mandatory":false,"type":"A"},{"name":"CUOR","description":"Appointment ID","length":50,"mandatory":false,"type":"A"},{"name":"YREF","description":"Driver Attend","length":50,"mandatory":false,"type":"A"},{"name":"FACI","description":"Workshop Facility","length":50,"mandatory":false,"type":"A"},{"name":"MVA1","description":"Kilometers","length":50,"mandatory":false,"type":"A"},{"name":"CFI1","description":"Phone Number","length":50,"mandatory":false,"type":"A"},{"name":"STAT","description":"Appointment Status","length":50,"mandatory":false,"type":"A"},{"name":"SCAT","description":"Service Category","length":50,"mandatory":false,"type":"A"},{"name":"REGI","description":"Region","length":50,"mandatory":false,"type":"A"},{"name":"SPRI","description":"Package Service Price","length":50,"mandatory":false,"type":"A"},{"name":"DOID","description":"Document ID","length":50,"mandatory":false,"type":"A"},{"name":"APNO","description":"Appointment Number","length":50,"mandatory":false,"type":"A"},{"name":"APTY","description":"Appointment Type","length":50,"mandatory":false,"type":"A"},{"name":"TIME","description":"Appointment Time Formatted","length":50,"mandatory":false,"type":"A"},{"name":"DATE","description":"Appointment Date Formatted","length":50,"mandatory":false,"type":"A"},{"name":"STMP","description":"Timestamp","length":50,"mandatory":false,"type":"A"},{"name":"ORNO","description":"MCO Number","length":50,"mandatory":false,"type":"A"},{"name":"CUST","description":"M3 Customer","length":50,"mandatory":false,"type":"A"},{"name":"RRST","description":"Appointment Time Entry","length":50,"mandatory":false,"type":"A"},{"name":"ADDR","description":"Address","length":100,"mandatory":false,"type":"A"},{"name":"AAGN","description":"Agreement","length":50,"mandatory":false,"type":"A"}],"inputFields":[{"name":"CFI1","description":"Phone Number","length":50,"mandatory":false,"type":"A"},{"name":"BANO","description":"License Plate","length":50,"mandatory":false,"type":"A"},{"name":"APNO","description":"Appointment Number","length":50,"mandatory":false,"type":"A"},{"name":"CUNO","description":"Salesforce Customer","length":50,"mandatory":false,"type":"A"},{"name":"PRNO","description":"Vehicle Info","length":50,"mandatory":false,"type":"A"},{"name":"SUFI","description":"Service Type","length":50,"mandatory":false,"type":"A"},{"name":"CUOR","description":"Appointment ID","length":50,"mandatory":false,"type":"A"},{"name":"YREF","description":"Driver Attend","length":50,"mandatory":false,"type":"A"},{"name":"FACI","description":"Workshop Facility","length":50,"mandatory":false,"type":"A"},{"name":"MVA1","description":"Kilometers","length":50,"mandatory":false,"type":"A"},{"name":"STAT","description":"Appointment Status","length":50,"mandatory":false,"type":"A"},{"name":"SCAT","description":"Service Category","length":50,"mandatory":false,"type":"A"},{"name":"REGI","description":"Region","length":50,"mandatory":false,"type":"A"},{"name":"SPRI","description":"Package Service Price","length":50,"mandatory":false,"type":"A"},{"name":"APTY","description":"Appointment Type","length":50,"mandatory":false,"type":"A"},{"name":"ORNO","description":"MCO Number","length":50,"mandatory":false,"type":"A"},{"name":"CUST","description":"M3 Customer","length":50,"mandatory":false,"type":"A"},{"name":"ADDR","description":"Address","length":100,"mandatory":false,"type":"A"},{"name":"AAGN","description":"Agreement","length":50,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"d786cd5a-f91e-4134-8890-ba7a3277d025":{"uuid":"d786cd5a-f91e-4134-8890-ba7a3277d025","updated":1674685031968,"updatedBy":"MF-DEV-CA","created":1665434035488,"createdBy":"MF-DEV-CA","apiVersion":"0.9","beVersion":"16.0.0.20221110165802","codeHash":"61D489F1F3AF925390932C14F56F391A319233F946FA369CA8986CE565B1F6A7","code":"LyoqCiAqIFJFQURNRQogKiBOYW1lOiBFWFQxMzBNSS5TcmNoQXBwdAogKiBEeW5hbWljIFRhYmxlIEVYVFNGQSBHZXQKICogRGVzY3JpcHRpb246IEdldCBFWFRTRkEgRGF0YSBvbiBTZWFyY2ggQ3JpdGVyaWEKICogRGF0ZQkgICAgQ2hhbmdlZCBCeSAgCSAgRGVzY3JpcHRpb24KICogMjAyMzAxMjUgQ29sdG9uIEFuZHJhZGUgIEdldCBFWFRTRkEgRGF0YSBvbiBTZWFyY2ggQ3JpdGVyaWEKICovCgppbXBvcnQgZ3Jvb3Z5Lmpzb24uSnNvbkV4Y2VwdGlvbgppbXBvcnQgZ3Jvb3Z5Lmpzb24uSnNvblNsdXJwZXIKaW1wb3J0IGphdmEudGltZS5ab25lZERhdGVUaW1lCmltcG9ydCBqYXZhLnRpbWUuWm9uZUlkCmltcG9ydCBqYXZhLnRpbWUuSW5zdGFudAoKcHVibGljIGNsYXNzIFNyY2hBcHB0IGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsKICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOwogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7CiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07CiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyOwogIHByaXZhdGUgZmluYWwgSW9uQVBJIGlvbjsKCiAgcHVibGljIFNyY2hBcHB0KE1JQVBJIG1pLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTG9nZ2VyQVBJIGxvZ2dlciwgSW9uQVBJIGlvbikgewogICAgdGhpcy5taSA9IG1pOwogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOwogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOwogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsKICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyCiAgICB0aGlzLmlvbiA9IGlvbgogIH0KCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIAogICAgU3RyaW5nIGlDVU5PID0gbWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVTk8iKS50cmltKCk7CiAgICBTdHJpbmcgaVBSTk8gPSBtaS5pbkRhdGEuZ2V0KCJQUk5PIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiUFJOTyIpLnRyaW0oKTsKICAgIFN0cmluZyBpQkFOTyA9IG1pLmluRGF0YS5nZXQoIkJBTk8iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJCQU5PIikudHJpbSgpOwogICAgU3RyaW5nIGlTVUZJID0gbWkuaW5EYXRhLmdldCgiU1VGSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNVRkkiKS50cmltKCk7CiAgICBTdHJpbmcgaUNVT1IgPSBtaS5pbkRhdGEuZ2V0KCJDVU9SIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1VPUiIpLnRyaW0oKTsKICAgIFN0cmluZyBpWVJFRiA9IG1pLmluRGF0YS5nZXQoIllSRUYiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJZUkVGIikudHJpbSgpOwogICAgU3RyaW5nIGlGQUNJID0gbWkuaW5EYXRhLmdldCgiRkFDSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkZBQ0kiKS50cmltKCk7CiAgICBTdHJpbmcgaU1WQTEgPSBtaS5pbkRhdGEuZ2V0KCJNVkExIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiTVZBMSIpLnRyaW0oKTsKICAgIFN0cmluZyBpQ0ZJMSA9IG1pLmluRGF0YS5nZXQoIkNGSTEiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDRkkxIikudHJpbSgpOwogICAgU3RyaW5nIGlTVEFUID0gbWkuaW5EYXRhLmdldCgiU1RBVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUQVQiKS50cmltKCk7CiAgICAKICAgIFN0cmluZyBpU0NBVCA9IG1pLmluRGF0YS5nZXQoIlNDQVQiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTQ0FUIikudHJpbSgpOwogICAgU3RyaW5nIGlSRUdJID0gbWkuaW5EYXRhLmdldCgiUkVHSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJFR0kiKS50cmltKCk7CiAgICBTdHJpbmcgaVNQUkkgPSBtaS5pbkRhdGEuZ2V0KCJTUFJJIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiU1BSSSIpLnRyaW0oKTsKICAgIC8vIFN0cmluZyBpRE9JRCA9IG1pLmluRGF0YS5nZXQoIkRPSUQiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJET0lEIikudHJpbSgpOwogICAgU3RyaW5nIGlBUE5PID0gbWkuaW5EYXRhLmdldCgiQVBOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFQTk8iKS50cmltKCk7CiAgICBTdHJpbmcgaUFQVFkgPSBtaS5pbkRhdGEuZ2V0KCJBUFRZIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiQVBUWSIpLnRyaW0oKTsKICAgIC8vIFN0cmluZyBpREFURSA9IG1pLmluRGF0YS5nZXQoIkRBVEUiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJEQVRFIikudHJpbSgpOwogICAgLy8gU3RyaW5nIGlSUlNEID0gbWkuaW5EYXRhLmdldCgiUlJTRCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlJSU0QiKS50cmltKCk7CiAgICAvLyBTdHJpbmcgaVRJTUUgPSBtaS5pbkRhdGEuZ2V0KCJUSU1FIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiVElNRSIpLnRyaW0oKTsKICAgIC8vIFN0cmluZyBpUlJTVCA9IG1pLmluRGF0YS5nZXQoIlJSU1QiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJSUlNUIikudHJpbSgpOwogICAgLy8gU3RyaW5nIGlTVE1QID0gbWkuaW5EYXRhLmdldCgiU1RNUCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUTVAiKS50cmltKCk7CiAgICBTdHJpbmcgaU9STk8gPSBtaS5pbkRhdGEuZ2V0KCJPUk5PIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiT1JOTyIpLnRyaW0oKTsKICAgIFN0cmluZyBpQ1VTVCA9IG1pLmluRGF0YS5nZXQoIkNVU1QiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVVNUIikudHJpbSgpOwogICAgCiAgICBTdHJpbmcgaUFERFIgPSBtaS5pbkRhdGEuZ2V0KCJBRERSIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiQUREUiIpLnRyaW0oKTsKICAgIFN0cmluZyBpQUFHTiA9IG1pLmluRGF0YS5nZXQoIkFBR04iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJBQUdOIikudHJpbSgpOwogICAgCiAgICBTdHJpbmcgdXNlciA9IHByb2dyYW0uZ2V0VXNlcigpCiAgICBTdHJpbmcgdXNlclpvbmUgPSAiIgogICAgU3RyaW5nIHVzZXJab25lR01UID0gIiIKICAgIGludCB5ZWFyVXNlZCA9IDAKICAgIGludCB1c2VyVVRDCiAgICBTdHJpbmcgdXNlclVUQ1N0cmluZyA9ICIiCiAgICAKICAgIENsb3N1cmU8Pz4gZ2V0VElaTyA9IHsgREJDb250YWluZXIgdXNlckNvbnRhaW5lciAtPgogICAgICB1c2VyWm9uZSA9IHVzZXJDb250YWluZXIuZ2V0U3RyaW5nKCJKVVRJWk8iKQogICAgfQogICAgCiAgICBFeHByZXNzaW9uRmFjdG9yeSBleHAgPSBkYXRhYmFzZS5nZXRFeHByZXNzaW9uRmFjdG9yeSgiQ01OVVNSIik7CiAgICBleHAgPSBleHAuZXEoIkpVVVNJRCIsIHVzZXIpOwogICAgCiAgICBEQkFjdGlvbiB1c2VyUXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ01OVVNSIikuaW5kZXgoIjEwIikubWF0Y2hpbmcoZXhwKS5zZWxlY3RBbGxGaWVsZHMoKS5idWlsZCgpOwogICAgREJDb250YWluZXIgdXNlckNvbnRhaW5lciA9IHVzZXJRdWVyeS5nZXRDb250YWluZXIoKQogICAgCiAgICB1c2VyUXVlcnkucmVhZEFsbCh1c2VyQ29udGFpbmVyLCAwLCBnZXRUSVpPKQogICAgCiAgICBpZiAodXNlclpvbmUgPT0gIiIpIHsKICAgICAgdXNlclpvbmUgPSAiQVNUIgogICAgfQogICAgCiAgICBpZiAodXNlclpvbmUgIT0gIlVUQyIpIHsKICAgICAgQ2xvc3VyZTw/PiBnZXRVVEMgPSB7IERCQ29udGFpbmVyIHR6Q29udGFpbmVyIC0+CiAgICAgICAgaWYgKHR6Q29udGFpbmVyLmdldEludCgiVFpZRUE0IikgPiB5ZWFyVXNlZCkgewogICAgICAgICAgeWVhclVzZWQgPSB0ekNvbnRhaW5lci5nZXRJbnQoIlRaWUVBNCIpCiAgICAgICAgICB1c2VyVVRDID0gdHpDb250YWluZXIuZ2V0SW50KCJUWlRHTVQiKQogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwMiA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJDSVRaT04iKTsKICAgICAgZXhwMiA9IGV4cDIuZXEoIlRaVElaTyIsIHVzZXJab25lKTsKICAgICAgCiAgICAgIERCQWN0aW9uIHR6UXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ0lUWk9OIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwMikuc2VsZWN0QWxsRmllbGRzKCkuYnVpbGQoKTsKICAgICAgREJDb250YWluZXIgdHpDb250YWluZXIgPSB0elF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICAgIAogICAgICB0elF1ZXJ5LnJlYWRBbGwodHpDb250YWluZXIsIDAsIGdldFVUQykKICAgICAgCiAgICAgIHVzZXJVVENTdHJpbmcgPSB1c2VyVVRDLnRvU3RyaW5nKCkKICAgICAgdXNlclVUQ1N0cmluZyA9IHVzZXJVVENTdHJpbmcuc3Vic3RyaW5nKDAsIHVzZXJVVENTdHJpbmcubGVuZ3RoKCkgLSAyKQogICAgICBpZiAodXNlclVUQ1N0cmluZy5jb250YWlucygiLSIpKSB7CiAgICAgICAgdXNlclVUQ1N0cmluZyA9IHVzZXJVVENTdHJpbmcucmVwbGFjZSgiLSIsIiIpCiAgICAgICAgdXNlclpvbmVHTVQgPSAiRXRjL0dNVCske3VzZXJVVENTdHJpbmd9IgogICAgICB9IGVsc2UgewogICAgICAgIHVzZXJab25lR01UID0gIkV0Yy9HTVQtJHt1c2VyVVRDU3RyaW5nfSIKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdXNlclpvbmVHTVQgPSAiVVRDIgogICAgfQogICAgCiAgICAKICAgIENsb3N1cmU8Pz4gcmVsZWFzZWRJdGVtUHJvY2Vzc29yID0geyBEQkNvbnRhaW5lciBjb250YWluZXIgLT4KICAgICAgaWYgKGlDVU5PICE9ICIiKSB7CiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWENVTk8iKS5jb250YWlucygiJHtpQ1VOT30iKSkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpUFJOTyAhPSAiIikgewogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhQUk5PIikuY29udGFpbnMoIiR7aVBSTk99IikpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaUJBTk8gIT0gIiIpIHsKICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQkFOTyIpLmNvbnRhaW5zKCIke2lCQU5PfSIpKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlTVUZJICE9ICIiKSB7CiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWFNVRkkiKS5jb250YWlucygiJHtpU1VGSX0iKSkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpQ1VPUiAhPSAiIikgewogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhDVU9SIikuY29udGFpbnMoIiR7aUNVT1J9IikpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaVlSRUYgIT0gIiIpIHsKICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYWVJFRiIpLmNvbnRhaW5zKCIke2lZUkVGfSIpKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlGQUNJICE9ICIiKSB7CiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWEZBQ0kiKS5jb250YWlucygiJHtpRkFDSX0iKSkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpTVZBMSAhPSAiIikgewogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhNVkExIikuY29udGFpbnMoIiR7aU1WQTF9IikpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaUNGSTEgIT0gIiIpIHsKICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQ0ZJMSIpLmNvbnRhaW5zKCIke2lDRkkxfSIpKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlTVEFUICE9ICIiKSB7CiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWFNUQVQiKS5jb250YWlucygiJHtpU1RBVH0iKSkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpU0NBVCAhPSAiIikgewogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhTQ0FUIikuY29udGFpbnMoIiR7aVNDQVR9IikpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaVJFR0kgIT0gIiIpIHsKICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYUkVHSSIpLmNvbnRhaW5zKCIke2lSRUdJfSIpKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlTUFJJICE9ICIiKSB7CiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWFNQUkkiKS5jb250YWlucygiJHtpU1BSSX0iKSkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpQVBOTyAhPSAiIikgewogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhBUE5PIikuY29udGFpbnMoIiR7aUFQTk99IikpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaUFQVFkgIT0gIiIpIHsKICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQVBUWSIpLmNvbnRhaW5zKCIke2lBUFRZfSIpKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlPUk5PICE9ICIiKSB7CiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWE9STk8iKS5jb250YWlucygiJHtpT1JOT30iKSkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpT1JOTyAhPSAiIikgewogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhPUk5PIikuY29udGFpbnMoIiR7aU9STk99IikpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoaUNVU1QgIT0gIiIpIHsKICAgICAgICBpZiAoIWNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQ1VTVCIpLmNvbnRhaW5zKCIke2lDVVNUfSIpKSB7CiAgICAgICAgICByZXR1cm4KICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGlBRERSICE9ICIiKSB7CiAgICAgICAgaWYgKCFjb250YWluZXIuZ2V0U3RyaW5nKCJFWEFERFIiKS5jb250YWlucygiJHtpQUREUn0iKSkgewogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChpQUFHTiAhPSAiIikgewogICAgICAgIGlmICghY29udGFpbmVyLmdldFN0cmluZygiRVhBQUdOIikuY29udGFpbnMoIiR7aUFBR059IikpIHsKICAgICAgICAgIHJldHVybgogICAgICAgIH0KICAgICAgfQogICAgICAKICAgICAgU3RyaW5nIERBVEUgPSAiIgogICAgICBTdHJpbmcgUlJTRCA9ICIiCiAgICAgIFN0cmluZyBUSU1FID0gIiIKICAgICAgU3RyaW5nIFJSU1QgPSAiIgogICAgICBTdHJpbmcgREFURUFTVCA9ICIiCiAgICAgIFN0cmluZyBUSU1FQVNUID0gIiIKICAgICAgU3RyaW5nIGlEQVRFID0gY29udGFpbmVyLmdldFN0cmluZygiRVhEQVRFIikKICAgICAgaWYgKGlEQVRFLmxlbmd0aCgpID09IDI0ICYmIGlEQVRFWy0xXSA9PSAiWiIgJiYgaURBVEVbMTBdID09ICJUIikgewogICAgICAgIC8vIFVuY29tbWVudCB0byBzZXQgdGltZXpvbmUgbWFudWFsbHkgbm93CiAgICAgICAgLy8gU3RyaW5nIHVzZXJab25lR01UID0gIkFtZXJpY2EvQ2hpY2FnbyIKICAgICAgICAvLyBzYW1wbGUgdGltZXN0YW1wID0gMjAyMi0xMi0wMlQwOToyNzoyOS4xNTlaCiAgICAgICAgCiAgICAgICAgSW5zdGFudCB0aW1lc3RhbXAgPSBJbnN0YW50LnBhcnNlKGlEQVRFKTsKICAgICAgICBab25lZERhdGVUaW1lIG5vd0RhdGUgPSB0aW1lc3RhbXAuYXRab25lKFpvbmVJZC5vZih1c2VyWm9uZUdNVCkpOwogICAgICAgIFN0cmluZyBub3dEYXRlU3RyaW5nID0gbm93RGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygwLDE2KQogICAgICAgIAogICAgICAgIFN0cmluZyBbXSBzdGFtcF9zcGxpdCA9IG5vd0RhdGVTdHJpbmcuc3BsaXQoIlQiKQogICAgICAgIAogICAgICAgIERBVEUgPSBzdGFtcF9zcGxpdFswXQogICAgICAgIFRJTUUgPSAiJHtzdGFtcF9zcGxpdFsxXS5zdWJzdHJpbmcoMCwgNSl9ICR7dXNlclpvbmV9IgogICAgICAgIAogICAgICAgIFpvbmVkRGF0ZVRpbWUgbm93RGF0ZUFTVCA9IHRpbWVzdGFtcC5hdFpvbmUoWm9uZUlkLm9mKCJFdGMvR01ULTMiKSk7CiAgICAgICAgU3RyaW5nIG5vd0RhdGVTdHJpbmdBU1QgPSBub3dEYXRlQVNULnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsMTYpCiAgICAgICAgU3RyaW5nIFtdIHN0YW1wX3NwbGl0QVNUID0gbm93RGF0ZVN0cmluZ0FTVC5zcGxpdCgiVCIpCiAgICAgICAgCiAgICAgICAgREFURUFTVCA9IHN0YW1wX3NwbGl0QVNUWzBdCiAgICAgICAgVElNRUFTVCA9ICIke3N0YW1wX3NwbGl0QVNUWzFdLnN1YnN0cmluZygwLCA1KX0iCiAgICAgICAgCiAgICAgICAgU3RyaW5nIFtdIGRhdGVfc3BsaXRBU1QgPSBEQVRFQVNULnNwbGl0KCItIikKICAgICAgICBTdHJpbmcgeWVhckFTVCA9IGRhdGVfc3BsaXRBU1RbMF0uc3Vic3RyaW5nKDIpCiAgICAgICAgU3RyaW5nIG1vbnRoQVNUID0gZGF0ZV9zcGxpdEFTVFsxXQogICAgICAgIFN0cmluZyBkYXlBU1QgPSBkYXRlX3NwbGl0QVNUWzJdCiAgICAgICAgUlJTRCA9ICIke2RheUFTVH0ke21vbnRoQVNUfSR7eWVhckFTVH0iCiAgICAgICAgUlJTVCA9IFRJTUVBU1QucmVwbGFjZSgiOiIsICIiKQogICAgICB9CiAgICAgIAogICAgICBtaS5vdXREYXRhLnB1dCgiQ1VOTyIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQ1VOTyIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiUFJOTyIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYUFJOTyIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiQkFOTyIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQkFOTyIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiU1VGSSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU1VGSSIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiQ1VPUiIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQ1VPUiIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiWVJFRiIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYWVJFRiIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiRkFDSSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYRkFDSSIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiTVZBMSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYTVZBMSIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiQ0ZJMSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQ0ZJMSIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiU1RBVCIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU1RBVCIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiU0NBVCIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU0NBVCIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiUkVHSSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYUkVHSSIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiU1BSSSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYU1BSSSIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiRE9JRCIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYRE9JRCIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiQVBOTyIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQVBOTyIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiQVBUWSIsIGNvbnRhaW5lci5nZXRTdHJpbmcoIkVYQVBUWSIpKQogICAgICBtaS5vdXREYXRhLnB1dCgiREFURSIsIERBVEUpCiAgICAgIC8vIG1pLm91dERhdGEucHV0KCJEQVRFIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhEQVRFIikpCiAgICAgIG1pLm91dERhdGEucHV0KCJSUlNEIiwgUlJTRCkKICAgICAgbWkub3V0RGF0YS5wdXQoIlRJTUUiLCBUSU1FKQogICAgICBtaS5vdXREYXRhLnB1dCgiUlJTVCIsIFJSU1QpCiAgICAgIG1pLm91dERhdGEucHV0KCJTVE1QIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhTVE1QIikpCiAgICAgIG1pLm91dERhdGEucHV0KCJPUk5PIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhPUk5PIikpCiAgICAgIG1pLm91dERhdGEucHV0KCJDVVNUIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhDVVNUIikpCiAgICAgIG1pLm91dERhdGEucHV0KCJBRERSIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhBRERSIikpCiAgICAgIG1pLm91dERhdGEucHV0KCJBQUdOIiwgY29udGFpbmVyLmdldFN0cmluZygiRVhBQUdOIikpCiAgICAgIG1pLndyaXRlKCkKICAgIH0KICAgIAogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUU0ZBIikuaW5kZXgoIjAwIikuc2VsZWN0QWxsRmllbGRzKCkuYnVpbGQoKTsKICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpCiAgICAKICAgIHF1ZXJ5LnJlYWRBbGwoY29udGFpbmVyLCAwLCByZWxlYXNlZEl0ZW1Qcm9jZXNzb3IpCiAgICAKICB9Cn0="}}}